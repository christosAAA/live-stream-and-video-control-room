(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{14:function(e,t,n){e.exports={centerContainer:"VideoList_centerContainer__1kkoZ",scrollbar:"VideoList_scrollbar__4-7IV",listContainer:"VideoList_listContainer__RmN23",listItem:"VideoList_listItem__2tLgm",setActive:"VideoList_setActive__1Fe65",setListInactive:"VideoList_setListInactive__2mM8m",videoItem:"VideoList_videoItem__2YU12",videoName:"VideoList_videoName__3k_oZ",liveIndicator:"VideoList_liveIndicator__22qlh",iconArea:"VideoList_iconArea__1SS0o",linkIcon:"VideoList_linkIcon__1Ay0H",deleteIcon:"VideoList_deleteIcon__3lNfs"}},175:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(36),o=n.n(c),i=n(5),r=n(49),l="/api",d=n(1),u={socketConnect:function(){return Object(r.io)("")}},j=s.a.createContext(u),b=function(){return Object(a.useContext)(j)},O=function(e){var t=e.children,n=Object(a.useState)({socketConnect:function(){return Object(r.io)("")}}),s=Object(i.a)(n,2),c=s[0],o=s[1];return Object(a.useEffect)((function(){var e=Object(r.io)(l);return console.log("newSocket",e),o({socketConnect:function(){return e}}),function(){e.disconnect()}}),[]),Object(d.jsx)(j.Provider,{value:c,children:t})},p=n(97),m=n(11),v=n(6),h=n.n(v),_=n(9),f=n(12),x=n(181),g=n(93),C=n.n(g),N=Object(a.createContext)({loginCheck:!1,userStatus:"",userName:"",password:""}),y=function(){var e=Object(a.useContext)(N);return{request:function(){var t=Object(_.a)(h.a.mark((function t(n,a,s){var c,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=C.a.create({auth:{username:e.userName,password:e.password}}),l,t.next=4,c({method:n,url:"/api"+a,data:s});case 4:return o=t.sent,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}},w=n(33),k=n.n(w),S=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)({userName:"",password:""}),r=Object(i.a)(o,2),l=r[0],u=r[1],j=y().request,b=Object(a.useState)("".concat(k.a.loginTitle)),O=Object(i.a)(b,2),p=O[0],m=O[1],v=Object(a.useState)("".concat(k.a.loginMessage)),g=Object(i.a)(v,2),C=g[0],N=g[1],w=function(){var t=Object(_.a)(h.a.mark((function t(n){var a,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("post","login",n);case 2:a=t.sent,console.log("RESPONSE",a.data),!0===a.data.message?(s=Object(f.a)(Object(f.a)({},n),{loginCheck:!0,userNameFile:a.data.userName,userStatus:a.data.userStatus,password:a.data.password}),e.onResponse(s)):(m("".concat(k.a.loginTitle," ").concat(k.a.loginTitleMargin)),N("".concat(k.a.loginMessage," ").concat(k.a.loginMessageVissible)),"wrong user name"===a.data.message&&c("Please check your user name"),!1===a.data.message&&c("Please check your password"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("div",{className:k.a.loginBackground,children:Object(d.jsx)("div",{className:k.a.loginContainer,children:Object(d.jsxs)(x.a,{onSubmit:function(e){return function(e,t){e.preventDefault(),w(t)}(e,l)},className:"w-100",children:[Object(d.jsx)("h1",{id:"loginTitle",className:p,children:"Login"}),Object(d.jsx)("h5",{id:"loginMessage",className:C,children:s}),Object(d.jsxs)(x.a.Group,{children:[Object(d.jsx)(x.a.Label,{children:"Username"}),Object(d.jsx)(x.a.Control,{type:"text",required:!0,onChange:function(e){u(Object(f.a)(Object(f.a)({},l),{},{userName:e.target.value}))}}),Object(d.jsx)(x.a.Label,{children:"Password"}),Object(d.jsx)(x.a.Control,{type:"password",required:!0,onChange:function(e){u(Object(f.a)(Object(f.a)({},l),{},{password:e.target.value}))}})]}),Object(d.jsx)("button",{type:"submit",children:"Log in"})]})})})},I=n(10),L=Object(a.createContext)({selectedVideo:Object(I.a)({},"",""),setSelectedVideo:function(){return[Object(I.a)({},"","")]}}),B=Object(a.createContext)({streams:{default:{main:""},fromUser:{}},videos:Object(I.a)({},"","")}),V=function(e){var t=e.children,n=b().socketConnect(),s=Object(a.useState)({streams:{default:{main:""},fromUser:{}},videos:Object(I.a)({},"","")}),c=Object(i.a)(s,2),o=c[0],r=c[1];return Object(a.useEffect)((function(){n.emit("videoFilesListRequest")}),[n]),Object(a.useEffect)((function(){n.on("fullVideoList",function(){var e=Object(_.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(d.jsx)(B.Provider,{value:o,children:t})},H=n(50),P=n.n(H);function A(){var e=Object(a.useState)(0),t=Object(i.a)(e,2),n=t[0],s=t[1],c=b().socketConnect(),o=function(){var e=Object(_.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"admin",c.emit("connectedUsers","admin"),c.on("connectedUsersResponse",function(){var e=Object(_.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return o(),function(){c.off("getViewers")}}),[c,s]),Object(d.jsxs)("div",{className:P.a.viewersCountContainer,children:[Object(d.jsx)("span",{children:"Live viewers"}),Object(d.jsx)("i",{className:P.a.viewIcons}),Object(d.jsx)("span",{className:P.a.count,children:n})]})}var M=Object(a.createContext)(Object(I.a)({},"",""));function U(){var e=Object(a.useContext)(M);return{liveVideo:function(){return{name:Object.keys(e)[0],url:Object.values(e)[0]}}}}var T=n(21),E=n.n(T);function F(){var e=U().liveVideo;return Object(d.jsx)("div",{className:E.a.header,children:Object(d.jsxs)("div",{className:"".concat(E.a.centerContainer," ").concat(E.a.basicFlex," ").concat(E.a.spaceFlex),children:[Object(d.jsxs)("div",{className:E.a.basicFlex,children:[Object(d.jsx)("span",{className:E.a.liveIndicator,children:"LIVE NOW"}),Object(d.jsx)("span",{className:E.a.headerText,children:e().name})]}),Object(d.jsxs)("div",{className:E.a.basicFlex,children:[Object(d.jsxs)("a",{className:E.a.livePageButton,href:"http://localhost:3000",target:"blank",children:[Object(d.jsx)("i",{className:E.a.cameraIcon}),"Go to live site"]}),Object(d.jsx)(A,{})]})]})})}n(60);var R=document.getElementsByClassName("NavButtons"),D=function(e){var t;return t=e.default?"NavButtons current":"NavButtons",Object(d.jsx)("button",{id:e.id,className:t,onClick:function(e){!function(e){R&&Array.from(R).forEach((function(t,n){if(t.id===e.target.id){t.classList.add("current");var a=document.getElementById("Content_".concat(t.id));if(!a)return;a.style.display="block"}else{t.classList.remove("current");var s=document.getElementById("Content_".concat(t.id));if(!s)return;s.style.display="none"}}))}(e)},children:e.name})},q=n(43),W=n.n(q);function z(){var e=Object(a.useContext)(N);return Object(d.jsxs)("div",{className:W.a.centerContainerAdminPage,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:W.a.klaketIcon}),Object(d.jsx)(D,{id:"tab1",name:"Control Room",default:!0}),Object(d.jsx)(D,{id:"tab2",name:"Account Settings"})]}),Object(d.jsxs)("span",{className:W.a.userContainer,children:[Object(d.jsx)("i",{className:W.a.userIcon}),e.userName]})]})}var G=function(e){var t;return t=e.default?"block":"none",Object(d.jsx)("div",{id:e.id,style:{display:t},children:e.content})},Y=n(14),Z=n.n(Y),J=function(){var e=Object(a.useContext)(B);return{videoList:function(){var t=[];return void 0!==e&&e&&(t.push(e.streams.default),Object.keys(e.streams.fromUser).forEach((function(n){t.push(Object(I.a)({},n,e.streams.fromUser[n]))})),Object.keys(e.videos).forEach((function(n){t.push(Object(I.a)({},n,e.videos[n]))}))),t}}},Q=function(e,t,n){var a=document.getElementById("button".concat(t));a&&(a.className="".concat(Z.a.listItem),a.style.color="#343A40",a.style.backgroundColor="white",n(e));var s=document.getElementById("button".concat(e));s&&(console.log("change state"),s.className="".concat(Z.a.listItem," ").concat(Z.a.setActive),n(e))},K=function(e,t,n,a){if(console.log("set delete icon",e),"chooseVideo"===t){console.log("set delete icon1");var s=document.getElementById("deleteIcon".concat(n));if(console.log(s),s&&(s.style.display="none"),0===e)return;var c=document.getElementById("deleteIcon".concat(e));console.log(c),c&&(c.style.display="inline-block",a&&a(e))}if("deleteVideoState"===t){var o=document.getElementById("deleteIcon".concat(e));o&&(o.style.display="none")}},X=function(e,t){var n=document.getElementById("spinner".concat(t));n&&(n.style.display=!0===e?"inline-block":"none")},$=n(177);function ee(){var e=y().request,t=U().liveVideo,n=(0,J().videoList)(),s=Object(a.useState)(0),c=Object(i.a)(s,2),o=c[0],r=c[1],l=Object(a.useState)(Z.a.listContainer),u=Object(i.a)(l,2),j=u[0],b=u[1],O=Object(a.useState)("none"),p=Object(i.a)(O,2),m=p[0],v=p[1],f=Object(a.useContext)(L).setSelectedVideo,x=function(){var e=Object(_.a)(h.a.mark((function e(t,n){var a,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("VIDEO FULL LIST",n,t),a=Object.keys(n[t])[0],s=Object.values(n[t])[0],c=Object(I.a)({},a,s),Q(t,o,r),f(c),K(t,"chooseVideo",o,r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var t=Object(_.a)(h.a.mark((function t(n,a,s){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("key from delete",a),0!==a){t.next=4;break}return console.log("cannot delete main"),t.abrupt("return");case 4:if(window.confirm("Delete video ".concat(Object.keys(n)[0],"?"))){t.next=6;break}return t.abrupt("return");case 6:return c=Object.values(n)[0],X(!0,a),v("none"),b(Z.a.setListInactive),K(a,"deleteVideoState"),t.next=13,e("post","delete_video",{currentVideo:c});case 13:t.sent&&(b(Z.a.listContainer),X(!1,a),x(a-1,s));case 15:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){x(0,n),f({main:"https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8"})}),[]);var C=n.map((function(e,n){var s=function(e){var t=(0,J().videoList)(),n=Object(a.useContext)(L).selectedVideo;return Object(d.jsxs)("div",{className:Z.a.videoItem,children:[Object(d.jsxs)("div",{className:Z.a.videoName,onClick:function(){return e.chooseVideo(e.key,t)},children:[Object.keys(e.item),Object(d.jsx)("div",{className:Z.a.liveIndicator,style:{display:e.liveDisplay},children:"live"})]},e.key),Object(d.jsxs)("div",{className:Z.a.iconArea,children:[Object(d.jsx)("i",{id:"deleteIcon".concat(e.key),style:{display:e.deleteIconDisplay},className:Z.a.deleteIcon,onClick:function(){return e.deleteVideo(n,e.key,t)}}),Object(d.jsx)($.a,{id:"spinner".concat(e.key),style:{marginTop:"0",display:"none"},animation:"grow"}),Object(d.jsx)("i",{className:Z.a.linkIcon,style:{marginTop:"0",display:e.linkDisplay}})]})]},e.key)}({key:n,item:e,linkDisplay:function(e){var t="none";return Object.values(e)[0].endsWith(".m3u8")&&(t="inline-block"),t}(e),liveDisplay:function(e,t,n){var a="none";return Object.values(t)[0]===n&&(a="flex"),a}(0,e,t().url),chooseVideo:x,deleteVideo:g,deleteIconDisplay:m});return Object(d.jsx)("li",{className:Z.a.listItem,id:"button".concat(n),children:s},n)}));return Object(d.jsx)("ul",{id:"videoList",className:j,children:C})}function te(){var e=Object(a.useState)(document.body.clientHeight-250),t=Object(i.a)(e,2),n=t[0],s=t[1];return new ResizeObserver((function(e){return s(e[0].target.clientHeight-250)})).observe(document.body),Object(d.jsx)("div",{className:Z.a.scrollbar,style:{height:n},children:Object(d.jsx)(ee,{})})}var ne=n(179),ae=n(94),se=n(34),ce=n.n(se),oe={color:"#6C757D",uploadMessage:"Choose a video to upload",uploadBorder:"1px dashed #adb5bd",uploadIconHidden:!1,uploadIconBlueHidden:!0,inputHidden:!1,uploadButtonHidden:!0,loadButtonHidden:!0,loadingIconHidden:!0,checkIconHidden:!0,crossIconHidden:!0},ie={color:"#343A40",uploadMessage:"",uploadBorder:"1px solid #343a40",uploadIconHidden:!0,uploadIconBlueHidden:!1,inputHidden:!1,uploadButtonHidden:!1,loadButtonHidden:!0,loadingIconHidden:!0,checkIconHidden:!0,crossIconHidden:!0},re={color:"#343A40",uploadMessage:"Uploading...",uploadBorder:"1px dashed #adb5bd",uploadIconHidden:!0,uploadIconBlueHidden:!0,inputHidden:!1,uploadButtonHidden:!0,loadButtonHidden:!0,loadingIconHidden:!1,checkIconHidden:!0,crossIconHidden:!0},le={color:"#28A745",uploadMessage:"Video uploaded successfully!",uploadBorder:"1px dashed #adb5bd",uploadIconHidden:!0,uploadIconBlueHidden:!0,inputHidden:!1,uploadButtonHidden:!0,loadButtonHidden:!0,loadingIconHidden:!0,checkIconHidden:!1,crossIconHidden:!0},de={color:"red",uploadMessage:"Something went wrong",uploadBorder:"1px dashed #adb5bd",uploadIconHidden:!0,uploadIconBlueHidden:!0,inputHidden:!1,uploadButtonHidden:!0,loadButtonHidden:!0,loadingIconHidden:!0,checkIconHidden:!0,crossIconHidden:!1};function ue(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)("Choose a video to upload"),o=Object(i.a)(c,2),r=o[0],l=o[1],u=Object(a.useState)(!0),j=Object(i.a)(u,2),b=j[0],O=j[1],p=Object(a.useState)(!1),m=Object(i.a)(p,2),v=m[0],x=m[1],g=Object(a.useState)(!1),C=Object(i.a)(g,2),N=C[0],w=C[1],k=Object(a.useState)(!0),S=Object(i.a)(k,2),I=S[0],L=S[1],B=Object(a.useState)(!0),V=Object(i.a)(B,2),H=V[0],P=V[1],A=Object(a.useState)(!0),M=Object(i.a)(A,2),U=M[0],T=M[1],E=Object(a.useState)(!0),F=Object(i.a)(E,2),R=F[0],D=F[1],q=y().request,W=function(e){var t=document.getElementById("label"),n=document.getElementById("uploadMessage");t&&n&&(t.style.border=e.uploadBorder,n.style.color=e.color,w(e.uploadIconHidden),T(e.uploadIconBlueHidden),l(e.uploadMessage),x(e.inputHidden),O(e.uploadButtonHidden),P(e.loadingIconHidden),L(e.checkIconHidden),D(e.crossIconHidden))},z=function(){var e=Object(_.a)(h.a.mark((function e(t,n){var a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n&&void 0!==n){e.next=3;break}return e.abrupt("return");case 3:return W(re),(a=new FormData).append("video",n[0]),e.next=8,q("post","upload_video_file",a);case 8:"File Uploaded"===(s=e.sent).data&&(W(le),setTimeout((function(){W(oe)}),2e3)),"error"===s.data&&(W(de),setTimeout((function(){W(oe)}),2e3)),console.log("upload response",s.data);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{children:Object(d.jsxs)("label",{id:"label",className:ce.a.uploadContainer,htmlFor:"upload-button",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{hidden:N,className:ce.a.uploadIcon}),Object(d.jsx)("i",{hidden:U,className:ce.a.uploadIconBlue}),Object(d.jsx)("i",{hidden:R,className:ce.a.crossIcon}),Object(d.jsx)("i",{hidden:H,className:ce.a.loading}),Object(d.jsx)("i",{hidden:I,className:ce.a.success}),Object(d.jsx)("span",{id:"uploadMessage",className:ce.a.uploadTitle,children:r}),Object(d.jsx)("input",{disabled:v,name:"video",type:"file",id:"upload-button",style:{display:"none"},onChange:function(e){!function(e){if(e){if(void 0===e[0]||null===e[0])return;if(void 0===e[0].name||null===e[0].name)return;var t=e[0].name;W(Object(f.a)(Object(f.a)({},ie),{},{uploadMessage:t})),s(e)}}(e.target.files)}})]}),Object(d.jsx)("button",{className:ce.a.uploadButton,hidden:b,onClick:function(e){return z(e,n)},children:"Upload"})]})})})}var je=n(178),be=n(180),Oe=n(22),pe=n.n(Oe);function me(){var e=s.a.useState(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=y().request,r=function(){var e=Object(_.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("post","add_live_stream_link",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=Object(a.useState)(Object(I.a)({},"","")),u=Object(i.a)(l,2),j=u[0],b=u[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(je.a,{className:pe.a.container,onClick:function(){return c(!0)},children:[Object(d.jsx)("i",{className:pe.a.linkIcon}),Object(d.jsx)("h1",{className:pe.a.addLiveStream,children:"Add a live stream link"})]}),Object(d.jsxs)(be.a,{show:n,onHide:function(){return c(!1)},children:[Object(d.jsx)(be.a.Header,{closeButton:!0,style:{borderBottom:"white"}}),Object(d.jsx)(be.a.Body,{children:Object(d.jsx)(je.a,{className:"align-items-center",style:{height:"438px",width:"420px"},children:Object(d.jsxs)(x.a,{className:pe.a.formContainer,onSubmit:function(e){return function(e,t){e.preventDefault(),r(t)}(e,j)},children:[Object(d.jsx)("h1",{className:pe.a.loginTitle,children:"Add Link "}),Object(d.jsxs)(x.a.Group,{children:[Object(d.jsx)(x.a.Label,{className:pe.a.label,children:"Link name"}),Object(d.jsx)(x.a.Control,{className:pe.a.input,type:"text",placeholder:"Name",onChange:function(e){j&&void 0!==j&&b(Object(I.a)({},e.target.value,Object.values(j)[0]))},required:!0,style:{height:"48px",marginTop:"1%"}}),Object(d.jsx)(x.a.Label,{className:pe.a.label,children:"Live stream url"}),Object(d.jsx)(x.a.Control,{className:pe.a.input,onChange:function(e){j&&void 0!==j&&b(Object(I.a)({},Object.keys(j)[0],e.target.value))},type:"text",placeholder:"https://server_link/example.m3u8",style:{height:"48px",marginTop:"1%"}})]}),Object(d.jsx)("button",{type:"submit",className:pe.a.button,children:"Add Link"})]})})})]})]})}var ve=n(47),he=n.n(ve),_e=n(62),fe=n.n(_e);function xe(){var e=y().request,t=Object(a.useContext)(L).selectedVideo,n=Object.keys(t)[0],s=function(){var t=Object(_.a)(h.a.mark((function t(n,a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are you sure you wanna publish ".concat(n,"?"))){t.next=2;break}return t.abrupt("return");case 2:e("post","saveLiveVideo",a);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(d.jsxs)("button",{className:fe.a.publishButton,onClick:function(){return s(n,t)},children:[Object(d.jsx)("i",{className:fe.a.publishIcon}),"Publich video"]})}var ge=n(51),Ce=n.n(ge);function Ne(){var e=Object(a.useContext)(L).selectedVideo,t=Object(a.useState)(""),n=Object(i.a)(t,2),s=n[0],c=n[1],o=Object.keys(e)[0],r=Object.values(e)[0],l=function(){return Object(d.jsx)("div",{className:Ce.a.videoWrapper,children:Object(d.jsx)(he.a,{controls:!0,url:s})})};return Object(a.useEffect)((function(){c(r),l()}),[e]),Object(d.jsxs)("div",{style:{paddingTop:"66px"},children:[Object(d.jsx)(l,{}),Object(d.jsxs)("div",{className:Ce.a.videoFooter,children:[Object(d.jsx)("div",{className:Ce.a.videoTitle,children:o}),Object(d.jsx)(xe,{})]})]})}var ye=n(63),we=n.n(ye);function ke(){return Object(d.jsx)("div",{className:we.a.centerContainer,children:Object(d.jsxs)(ne.a,{children:[Object(d.jsxs)(ae.a,{sm:5,children:[Object(d.jsx)("h1",{className:we.a.videoLibaryTitle,children:"Video library"}),Object(d.jsx)(me,{}),Object(d.jsx)(ue,{}),Object(d.jsx)(te,{})]}),Object(d.jsx)(ae.a,{sm:7,children:Object(d.jsx)(Ne,{})})]})})}var Se=n(182),Ie=Object(a.createContext)({}),Le=n(44),Be=n.n(Le);function Ve(){var e=(0,function(){var e=Object(a.useContext)(Ie);return{usersInfo:function(){var t=[];return Object.values(e).forEach((function(e){t.push(e)})),t}}}().usersInfo)(),t=y().request,n=function(){var e=Object(_.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Delete user ".concat(a,"?"))){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t("post","delete_user",{deleteUser:n});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=e.map((function(e,t){var a=e.userStatus,s=e.userName,c="user"+(t+1),o=!1;return"admin"==a&&(o=!0),console.log(a,c,s),Object(d.jsxs)(Se.a.Item,{className:Be.a.listGroup,action:!0,onClick:function(){return n("".concat(c),s)},children:[Object(d.jsxs)("div",{className:Be.a.userNameBagde,children:[s,o?Object(d.jsx)("div",{className:Be.a.bagde,children:a}):""]}),Object(d.jsx)("i",{className:Be.a.deleteIcon})]},t)}));return Object(d.jsx)(d.Fragment,{children:s})}var He=n(23),Pe=n.n(He);function Ae(){b().socketConnect();var e=y().request,t=Object(a.useState)(""),n=Object(i.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)({newUserStatus:"user",newUserName:"",newPassword:""}),r=Object(i.a)(o,2),l=r[0],u=r[1],j=Object(a.useState)("".concat(Pe.a.loginMessage)),O=Object(i.a)(j,2),p=O[0],m=O[1],v=function(){var t=Object(_.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("post","add_user",n);case 2:a=t.sent,m("".concat(Pe.a.loginMessage," ").concat(Pe.a.loginMessageVissible)),!0===a.data.message?c("you have successfully add a new user"):!1===a.data.message&&c("This user already exists");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)(je.a,{className:"align-items-center",style:{height:"438px",width:"420px"},children:Object(d.jsxs)(x.a,{className:Pe.a.formContainer,onSubmit:function(e){e.preventDefault(),v(l)},children:[Object(d.jsx)("h1",{id:"loginTitle",className:Pe.a.loginTitle,children:"Add User"}),Object(d.jsx)("h5",{id:"loginMessage",className:p,children:s}),Object(d.jsxs)(x.a.Group,{children:[Object(d.jsx)(x.a.Label,{className:Pe.a.label,children:"New Name"}),Object(d.jsx)(x.a.Control,{className:Pe.a.input,type:"text",required:!0,value:l.newUserName,onChange:function(e){u(Object(f.a)(Object(f.a)({},l),{},{newUserName:e.target.value}))}}),Object(d.jsx)(x.a.Label,{className:Pe.a.label,children:"New Password"}),Object(d.jsx)(x.a.Control,{className:Pe.a.input,type:"password",required:!0,value:l.newPassword,onChange:function(e){u(Object(f.a)(Object(f.a)({},l),{},{newPassword:e.target.value}))}})]}),Object(d.jsx)("button",{type:"submit",className:Pe.a.button,children:"Save changes"})]})})}var Me=n(52),Ue=n.n(Me);function Te(){var e=s.a.useState(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(je.a,{className:Ue.a.container,onClick:function(){return a(!0)},children:[Object(d.jsx)("i",{className:Ue.a.plus}),Object(d.jsx)("h1",{className:Ue.a.addUser,children:"Add Users"})]}),Object(d.jsxs)(be.a,{show:n,onHide:function(){return a(!1)},children:[Object(d.jsx)(be.a.Header,{closeButton:!0,style:{borderBottom:"white"}}),Object(d.jsx)(be.a.Body,{children:Object(d.jsx)(Ae,{})})]})]})}var Ee=n(96),Fe=n.n(Ee);function Re(){return Object(d.jsx)(je.a,{className:Fe.a.container,children:Object(d.jsxs)(ne.a,{children:[Object(d.jsx)(Te,{}),Object(d.jsx)(Ve,{})]})})}var De=n(24),qe=n.n(De);function We(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)({newUserStatus:"",newUserName:"",newPassword:""}),o=Object(i.a)(c,2),r=o[0],l=o[1],u=y().request,j=Object(a.useState)("".concat(qe.a.loginMessage)),b=Object(i.a)(j,2),O=(b[0],b[1]),p=function(){var e=Object(_.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("post","change_user_details",t);case 2:n=e.sent,O("".concat(qe.a.loginMessage," ").concat(qe.a.loginMessageVissible)),console.log(n.data),!0===n.data.message?s("your user details have been updated please login again for change to take place"):s("user already exist");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(x.a,{className:qe.a.formContainer,onSubmit:function(e){e.preventDefault(),p(r)},children:[Object(d.jsx)("h5",{id:"loginMessage",className:qe.a.loginTitle,children:n}),Object(d.jsxs)(x.a.Group,{children:[Object(d.jsx)(x.a.Label,{className:qe.a.label,children:"New Name"}),Object(d.jsx)(x.a.Control,{className:qe.a.input,type:"text",required:!0,value:r.newUserName,onChange:function(e){l(Object(f.a)(Object(f.a)({},r),{},{newUserName:e.target.value}))}}),Object(d.jsx)(x.a.Label,{className:qe.a.label,children:"New Password"}),Object(d.jsx)(x.a.Control,{className:qe.a.input,type:"password",required:!0,value:r.newPassword,onChange:function(e){l(Object(f.a)(Object(f.a)({},r),{},{newPassword:e.target.value}))}})]}),Object(d.jsx)("button",{type:"submit",className:qe.a.button,children:"Save changes"})]})}var ze=n(37),Ge=n.n(ze);function Ye(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("button",{className:Ge.a.accountSettingsButton,onClick:function(){return e.setShowChangePasswordContent(!0)},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:Ge.a.lock}),"Change Name and Password"]}),Object(d.jsx)("i",{className:Ge.a.arrowRight})]}),Object(d.jsxs)("button",{disabled:e.setButton,className:Ge.a.accountSettingsButton,onClick:function(){return e.setShowManageSettingsContent(!0)},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:Ge.a.userAdmin}),"Manage Users"]}),Object(d.jsx)("i",{className:Ge.a.arrowRight})]})]})}var Ze=n(25),Je=n.n(Ze);function Qe(){var e=Object(a.useContext)(N),t=Object(a.useState)(!1),n=Object(i.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(!1),r=Object(i.a)(o,2),l=r[0],u=r[1],j=function(t){var n=!0;return"admin"===e.userStatus&&(n=!1),t.showChangePassword||t.showManageSettings?t.showChangePassword?Object(d.jsxs)("div",{className:Je.a.contentContainer,children:[Object(d.jsxs)(ne.a,{className:Je.a.titleContainer,children:[Object(d.jsx)("i",{className:Je.a.arrowLeft,onClick:function(){return c(!1)}}),Object(d.jsx)("h1",{className:Je.a.pageTitle,children:"Change Password"})]}),Object(d.jsx)(ne.a,{children:Object(d.jsx)(We,{})})]}):t.showManageSettings?Object(d.jsxs)("div",{className:Je.a.contentContainer,children:[Object(d.jsxs)(ne.a,{className:Je.a.titleContainer,children:[Object(d.jsx)("i",{className:Je.a.arrowLeft,onClick:function(){return u(!1)}}),Object(d.jsx)("h1",{className:Je.a.pageTitle,children:"Manage Users"})]}),Object(d.jsx)(ne.a,{children:Object(d.jsx)(Re,{})})]}):Object(d.jsx)("h2",{children:"components cannot be rendered"}):Object(d.jsxs)("div",{className:Je.a.accountSettingsContainer,children:[Object(d.jsx)("h1",{className:Je.a.accountSettingsTitle,children:"Account Settings"}),Object(d.jsx)(Ye,{setButton:n,setShowChangePasswordContent:c,setShowManageSettingsContent:u})]})};return Object(d.jsx)(j,{showChangePassword:s,showManageSettings:l})}function Ke(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(G,{id:"Content_tab1",content:Object(d.jsx)(ke,{}),default:!0}),Object(d.jsx)(G,{id:"Content_tab2",content:Object(d.jsx)(Qe,{})})]})}function Xe(){var e=Object(a.useState)(Object(I.a)({},"main","https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8")),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(V,{children:Object(d.jsxs)(L.Provider,{value:{selectedVideo:n,setSelectedVideo:s},children:[Object(d.jsx)(z,{}),Object(d.jsx)(F,{}),Object(d.jsx)(Ke,{})]})})})}var $e=n(38),et=n.n($e);function tt(){var e=b().socketConnect(),t=U().liveVideo;Object(a.useEffect)((function(){e.emit("connectedUsers")}),[e]);var n=document.getElementById("videoPlayer"),s=document.getElementById("liveLabel");return n&&(n.onmouseover=function(){t().url.endsWith(".m3u8")&&s&&(s.style.display="flex"),n.onmouseout=function(){s&&(s.style.display="none")}}),Object(d.jsx)("div",{className:et.a.videoPage,children:Object(d.jsxs)("div",{id:"videoPlayer",className:et.a.videoContainer,children:[Object(d.jsx)("span",{id:"liveLabel",className:et.a.liveLabel,children:"Live"}),Object(d.jsx)(he.a,{className:et.a.videoPlayer,controls:!0,url:t().url}),Object(d.jsxs)("div",{className:et.a.titleContainer,children:[Object(d.jsx)("h5",{className:et.a.videoTitle,children:t().name}),Object(d.jsx)(A,{})]})]})})}var nt=function(e){var t=e.children,n=b().socketConnect(),s=Object(a.useState)({}),c=Object(i.a)(s,2),o=c[0],r=c[1];return Object(a.useEffect)((function(){n.emit("getUserListRequest")}),[n]),Object(a.useEffect)((function(){n.on("getUserListResponse",function(){var e=Object(_.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("USERINFO"),r(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(d.jsx)(Ie.Provider,{value:o,children:t})},at=function(e){var t=e.children,n=b().socketConnect(),s=Object(a.useState)(Object(I.a)({},"","")),c=Object(i.a)(s,2),o=c[0],r=c[1];Object(a.useEffect)((function(){n.emit("currentLiveVideoRequest")}),[n]);var l=function(){var e=Object(_.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.on("currentLiveVideoResponse",function(){var e=Object(_.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("form video player:",t,typeof t),r(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return l(),function(){n.off("getLiveVideo")}}),[n]),Object(d.jsx)(M.Provider,{value:o,children:t})};function st(){var e=Object(a.useState)({loginCheck:!1,userStatus:"",userName:"",password:""}),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(d.jsx)(O,{children:Object(d.jsx)(nt,{children:Object(d.jsx)(at,{children:Object(d.jsx)(N.Provider,{value:n,children:Object(d.jsx)(p.a,{children:Object(d.jsxs)(m.c,{children:[Object(d.jsx)(m.a,{path:"/admin",children:n.loginCheck?Object(d.jsx)(Xe,{}):Object(d.jsx)(S,{onResponse:function(e){console.log("from login data",e,typeof e),!0===e.loginCheck&&s({loginCheck:!0,userStatus:e.userStatus,userName:e.userNameFile,password:e.password})}})}),Object(d.jsx)(m.a,{path:"/",children:Object(d.jsx)(tt,{})})]})})})})})})}n(174);o.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(st,{})}),document.getElementById("root"))},21:function(e,t,n){e.exports={header:"Header_header__-AvUq",centerContainer:"Header_centerContainer__l38RT",floatLeft:"Header_floatLeft__18X4b",floatRight:"Header_floatRight__3ghYO",basicFlex:"Header_basicFlex__2YcjP",liveIndicator:"Header_liveIndicator__1wwlP",headerText:"Header_headerText__2TOpM",spaceFlex:"Header_spaceFlex__U8vxH",livePageButton:"Header_livePageButton__3W0df",cameraIcon:"Header_cameraIcon__CrDHh"}},22:function(e,t,n){e.exports={container:"AddLiveStreamLink_container__3cIAZ",linkIcon:"AddLiveStreamLink_linkIcon__F3jkt",addLiveStream:"AddLiveStreamLink_addLiveStream__3zdd4",formContainer:"AddLiveStreamLink_formContainer__EwcWa",loginTitle:"AddLiveStreamLink_loginTitle__2HxE9",loginMessage:"AddLiveStreamLink_loginMessage__2RMLx",loginMessageVissible:"AddLiveStreamLink_loginMessageVissible__31_Tn",label:"AddLiveStreamLink_label__2_yeQ",input:"AddLiveStreamLink_input__1Ii5R",button:"AddLiveStreamLink_button__okEbl"}},23:function(e,t,n){e.exports={formContainer:"AddUserModalContent_formContainer__tcAWc",loginTitle:"AddUserModalContent_loginTitle___YYNA",loginMessage:"AddUserModalContent_loginMessage__4W1rE",loginMessageVissible:"AddUserModalContent_loginMessageVissible__2Yf7i",label:"AddUserModalContent_label__3Y27G",input:"AddUserModalContent_input__CAL7K",button:"AddUserModalContent_button__7Yrvl"}},24:function(e,t,n){e.exports={formContainer:"ChangePasswordNamePage_formContainer__h5vWO",loginMessage:"ChangePasswordNamePage_loginMessage__2cLDF",loginMessageVissible:"ChangePasswordNamePage_loginMessageVissible__3QFwH",label:"ChangePasswordNamePage_label__1yWrD",input:"ChangePasswordNamePage_input__1qw4T",button:"ChangePasswordNamePage_button__eW3pS"}},25:function(e,t,n){e.exports={accountSettingsContainer:"AccountSettings_accountSettingsContainer__2IBUN",contentContainer:"AccountSettings_contentContainer__1fOmd",arrowLeft:"AccountSettings_arrowLeft__1OZaH",titleContainer:"AccountSettings_titleContainer__2_xnv",pageTitle:"AccountSettings_pageTitle__1MLGm",accountSettingsTitle:"AccountSettings_accountSettingsTitle__2OFjQ"}},33:function(e,t,n){e.exports={loginBackground:"Login_loginBackground__2gUMd",loginContainer:"Login_loginContainer__npC0B",loginTitle:"Login_loginTitle__27F-p",loginTitleMargin:"Login_loginTitleMargin__1FS5y",loginMessage:"Login_loginMessage__3bo58",loginMessageVissible:"Login_loginMessageVissible__219DK"}},34:function(e,t,n){e.exports={uploadContainer:"UploadVideo_uploadContainer__1mjzL",uploadIcon:"UploadVideo_uploadIcon__3aq6w",uploadIconBlue:"UploadVideo_uploadIconBlue__igZw1",crossIcon:"UploadVideo_crossIcon__NtkgT",uploadTitle:"UploadVideo_uploadTitle__3ENC4",uploadButton:"UploadVideo_uploadButton__1Mho5",loading:"UploadVideo_loading__1AZTy",success:"UploadVideo_success__3kYar"}},37:function(e,t,n){e.exports={accountSettingsButton:"AccountSettingsNav_accountSettingsButton__2QzKW",lock:"AccountSettingsNav_lock__19n-G",arrowRight:"AccountSettingsNav_arrowRight__2h3dZ",userAdmin:"AccountSettingsNav_userAdmin__2vU9D"}},38:function(e,t,n){e.exports={videoPage:"VideoPlayer_videoPage__2vb6J",videoContainer:"VideoPlayer_videoContainer__1UDkK",videoPlayer:"VideoPlayer_videoPlayer__1xXNu",liveLabel:"VideoPlayer_liveLabel__6jIMY",titleContainer:"VideoPlayer_titleContainer__3L7dS",videoTitle:"VideoPlayer_videoTitle__1Ul8N"}},43:function(e,t,n){e.exports={centerContainerAdminPage:"NavBar_centerContainerAdminPage__2QhvZ",klaketIcon:"NavBar_klaketIcon__3y5S6",userContainer:"NavBar_userContainer__aTQ2h",userIcon:"NavBar_userIcon__1fJzi"}},44:function(e,t,n){e.exports={listGroup:"UserList_listGroup__3214E",userNameBagde:"UserList_userNameBagde__2VyJ6",deleteIcon:"UserList_deleteIcon__3vOMk",bagde:"UserList_bagde__xpWBp"}},50:function(e,t,n){e.exports={viewersCountContainer:"ViewersCount_viewersCountContainer__1Yn69",viewIcons:"ViewersCount_viewIcons__3oerA",count:"ViewersCount_count__3s2x0"}},51:function(e,t,n){e.exports={videoFooter:"VideoPlayerComp_videoFooter__1lDG1",videoTitle:"VideoPlayerComp_videoTitle__1xnID"}},52:function(e,t,n){e.exports={container:"AddUser_container__3HPJe",plus:"AddUser_plus__2xWGg",addUser:"AddUser_addUser__1tcC3"}},60:function(e,t,n){},62:function(e,t,n){e.exports={publishButton:"PublishVideoButton_publishButton__2x_US",publishIcon:"PublishVideoButton_publishIcon__1Auki"}},63:function(e,t,n){e.exports={centerContainer:"ControlRoom_centerContainer__YKNh2",videoPlayer:"ControlRoom_videoPlayer__1-zkL",videoWrapper:"ControlRoom_videoWrapper___WJ_C",videoLibaryTitle:"ControlRoom_videoLibaryTitle__1E3gU"}},96:function(e,t,n){e.exports={container:"ManageUserPage_container__XbgSa"}}},[[175,1,2]]]);
//# sourceMappingURL=main.6794aea7.chunk.js.map